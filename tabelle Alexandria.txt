CREATE TABLE PROFILO (
 USERNAME VARCHAR(50) NOT NULL PRIMARY KEY,
 NOME VARCHAR(50) NOT NULL,
 COGNOME VARCHAR(50) NOT NULL,
 DATA DATE NOT NULL,
 EMAIL VARCHAR(50) NOT NULL,
 NUMEROTEL VARCHAR(50) NOT NULL,
 INDIRIZZO VARCHAR(50) NOT NULL );

CREATE TABLE RISORSA (
 RES_ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
 TITOLO VARCHAR(50),
 CATEGORIA VARCHAR(50) NOT NULL,
 AUTORI VARCHAR(50) NOT NULL,
 DATA TIMESTAMP NOT NULL,
 PREZZO FLOAT NOT NULL,
 DESCRIZIONE VARCHAR(50) NOT NULL,
 URL VARCHAR(50) NOT NULL,
 RES_OWNER VARCHAR(50) NOT NULL REFERENCES PROFILO );

CREATE TABLE VENDITA (
 VENDITA_ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
 ACQUIRENTE VARCHAR(50) NOT NULL REFERENCES PROFILO,
 VENDITORE VARCHAR(50) NOT NULL REFERENCES PROFILO,
 RIS_VENDUTA INT NOT NULL REFERENCES RISORSA,
 DATA TIMESTAMP NOT NULL );

CREATE TABLE COMMENTO (
 COMMENT_ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
 RISORSA_ASSOCIATA INT NOT NULL REFERENCES RISORSA,
 MITTENTE_COMMENTO VARCHAR(50) NOT NULL REFERENCES PROFILO,
 TESTO VARCHAR(50) NOT NULL,
 DATA TIMESTAMP NOT NULL );

CREATE TABLE MESSAGGIO (
 MEX_ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
 MITTENTE VARCHAR(50) NOT NULL REFERENCES PROFILO,
 DESTINATARIO VARCHAR(50) NOT NULL REFERENCES PROFILO,
 TESTO VARCHAR(50) NOT NULL,
 DATA TIMESTAMP NOT NULL );

CREATE TABLE CREDENZIALI (
 USERNAME VARCHAR(50) NOT NULL PRIMARY KEY,
 PASSWORD VARCHAR(50) NOT NULL );

CREATE TABLE UCMAPPING (
 USERNAME VARCHAR(50) NOT NULL,
 CATEGORIA VARCHAR(50) NOT NULL,
 PRIMARY KEY(USERNAME,CATEGORIA) );